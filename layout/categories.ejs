<div class="text-center mb-10">
    <h1 class="text-3xl font-bold dark:text-white mb-4"><%= theme.content_settings.topics.page_title %></h1>
    <p class="text-slate-500 dark:text-slate-400 max-w-2xl mx-auto"><%= theme.content_settings.topics.page_description %></p>
</div>

<% if (site.categories.length > 0) { %>
    <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4">
        <% site.categories.each(function(cat){ %>
            <% 
            var catConfig = theme.categories_map[cat.name] || theme.categories_map['default'];
            var bgImg = catConfig ? catConfig.img : theme.categories_map['default'].img;
            var desc = catConfig ? catConfig.desc : cat.length + ' 篇文章';
            %>
            <a href="<%- url_for(cat.path) %>" class="group relative h-48 rounded-xl overflow-hidden shadow-md cursor-pointer block">
                <!-- Background Image -->
                <div class="absolute inset-0 bg-cover bg-center transition-transform duration-500 group-hover:scale-110" style="background-image: url('<%= bgImg %>');"></div>
                
                <!-- Dark Overlay -->
                <div class="absolute inset-0 bg-slate-900/60 group-hover:bg-slate-900/50 transition-colors"></div>
                
                <!-- Content -->
                <div class="absolute bottom-0 left-0 p-4 w-full">
                    <h3 class="text-white font-bold text-lg mb-1"><%= cat.name %></h3>
                    <p class="text-slate-200 text-xs truncate"><%= desc %></p>
                </div>
            </a>
        <% }) %>
    </div>
<% } else { %>
    <div class="flex flex-col items-center justify-center py-20">
        <div class="text-6xl text-slate-400 dark:text-slate-600 mb-4"><i class="fa-regular fa-newspaper"></i></div>
        <p class="text-center text-slate-500 dark:text-slate-400 col-span-full"><%= theme.content_settings.topics.no_topic_text %></p>
    </div>
<% } %>